(function () {
    'use strict';

    function HomeController($scope, $rootScope, $location, PageTitle) {
        var vm = this;

        $rootScope.texts = {
            year: new Date().getFullYear(),
            email: "rozliart@gmail.com",
            details: "Детайли",
            material: "Материал",
            materialTxt: "Масив иглолистна дървесина, акрилни бои, техника декупаж, фиксирани с безцветен яхтен лак.",
            materialStoneTxt: "Камък, акрилни бои, техника декупаж, фиксиран със салфетен лак.",
            maintenance: "Поддръжка",
            maintenanceTxt: "Почиства се с мека, леко влажна кърпа.",
            mainenanceBottles: "Не се препоръчва почистване в съдомиялна машина. Не трябва да се мие с абразивни и агресивни препарати.",
            decoupageBottlesDesc: "Малка ръчно декорирана бутилка с техниката декупаж.",
            noDisassemble: "Столът не се разглобява.",
            chairsHeading: "Дизайнерски детски столчета",
            piponaHeading: 'Стол "Приказната вила Пипона"',
            gabarkovciHeading: 'Детско столче "Гъбарковците"',
            dinoHeading: 'Детско столче "Дино и приятели"',
            zaioHeading: 'Детско столче "Зайо Байо и Мечока"',
            rubyHeading: 'Детско столче "Кучето Руби"',
            pirateHeading: 'Детско столче "Ломбо Пирата"',
            poliHeading: 'Детско столче "На разходка с Поли"',
            cowboyHeading: 'Детско столче "Приключенията на Дъмбо Каубоеца"',
            rocksHeading: "Ръчно украсени камъни",
            bottlesHeading: "Декупаж върху бутилки",
            bottleBike: 'Бутилка "На море с колело"',
            bottleLighthouse: 'Бутилка "Фарът"',
            bottleForest: 'Бутилка "Живот в гората"',
            boatAhtopol: 'Камък "Рибарска лодка Ахтопол"',
            kamen: 'Камък "Лосът Камен"',
            champHeading: 'Сватбено шампанско',
            champMagic: 'Шампанско "Вълшебство"',
            champSilver: 'Шампанско "Сребърна перла"'
        };

        $scope.Page = PageTitle;
        PageTitle.setTitle('RozLi - Начало');
        $('#over').hide();

        rozLiJs.initialize();

        $rootScope.$on('$routeChangeSuccess', function () {

            // remove divs generated by the jquery.ez-plus plugin 
            $('#goblen-zoomContainer').remove();
            $('#antfarm-zoomContainer').remove();
            $('#pipona-zoomContainer').remove();
            $('#poli-zoomContainer').remove();
            $('#cowboy-zoomContainer').remove();
            $('#gabarkovci-zoomContainer').remove();
            $('#dino-zoomContainer').remove();
            $('#zaio-zoomContainer').remove();
            $('#ruby-zoomContainer').remove();
            $('#pirate-zoomContainer').remove();
            $('#kamen-zoomContainer').remove();
            $('#boat-zoomContainer').remove();
            $('#bike-zoomContainer').remove();
            $('#lighthouse-zoomContainer').remove();
            $('#forest-zoomContainer').remove();
            $('#magic-zoomContainer').remove();
            $('#silver-zoomContainer').remove();

            // use location to dynamically apply classes using the ng-class directive in the nav menu
            $scope.location = $location.path();

            $scope.inChildren = $location.path().indexOf('children') > 0;
            $scope.inDecoupage = $location.path().indexOf('decoupage') > 0;
            $scope.inWeddings = $location.path().indexOf('weddings') > 0;
            $scope.inHandmade = $location.path().indexOf('handmade') > 0;
            $scope.inRocks = $location.path().indexOf('decoupage/rocks') > 0;
            $scope.inBottles = $location.path().indexOf('decoupage/bottles') > 0;
            $scope.inChamp = $location.path().indexOf('weddings/champagne') > 0;
            $scope.inBaskets = $location.path().indexOf('weddings/baskets') > 0;

            // Activate bootstrap tooltips
            $(document).ready(function () {
                $("body").tooltip({ selector: '[data-toggle=tooltip]' });
            });
        });
    }

    angular.module('rozLi.controllers')
        .controller('HomeController', ['$scope', '$rootScope', '$location', 'PageTitle', HomeController]);
} ());